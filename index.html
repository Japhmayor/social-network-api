<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css" />

    <title>API Interface</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12-lg">
                <h1>API Interface</h1>
                <div class="alert alert-warning" id="api-messages" role="alert"></div>
                <ul class="nav nav-tabs" role="tablist">
                    <li class="active">
                        <a href="#create" role="tab" data- toggle="tab">Create User</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="create">
                        <div class="form-group">
                            <label for="createEmail">Email</label>
                            <input type="text" class="form-control" id="createEmail" placeholder="Enter email" />
                        </div>
                        <div class="form-group">
                            <label for="createUsername">Username</label>
                            <input type="text" class="form-control" id="createUsername" placeholder="Enter username" />
                        </div>
                        <div class="form-group">
                            <label for="createFirst">First Name</label>
                            <input type="text" class="form-control" id="createFirst" placeholder="First Name" />
                        </div>
                        <div class="form-group">
                            <label for="createLast">Last Name</label>
                            <input type="text" class="form-control" id="createLast" placeholder="Last Name" />
                        </div>
                        <div class="form-group">
                            <label for="createLast">Image</label>
                            <input type="file" class="form-control" name="image" id="createImage" placeholder="Image" />
                        </div>
                        <button type="submit" onclick="userCreate();" class="btn btn-success">
                            Create
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function userCreate() {
            action = "http://localhost:3000/api/users";
            postData = {};
            postData.email = $("#createEmail").val();
            postData.user = $("#createUsername").val();
            postData.first = $("#createFirst").val();
            postData.last = $("#createLast").val();
            postData.image = $("#createImage").val();

            $.post(
                action,
                postData,
                function (data) {
                    if (data.error) {
                        $(".alert").html(data.error);
                        $(".alert").alert();
                    }
                },
                "jsonp"
            );
        }

        //$(document).ready(function () {
        // $(".alert").alert("close");
        //});
    </script>
</body>

</html>